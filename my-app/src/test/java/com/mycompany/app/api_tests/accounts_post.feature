# ********RoostGPT********

# Test generated by RoostGPT for test karateTest using AI Type Open AI and AI Model gpt-4
# 
# Feature file generated for /accounts_post for http method type POST 
# RoostTestHash=53e96f9805
# 
# 

# ********RoostGPT********
Feature: Create new Account

  Background:
    * def urlBase = karate.properties['url.base'] || karate.get('urlBase', 'http://localhost:8080')
    * url urlBase
    * def AUTH_TOKEN = karate.properties['AUTH_TOKEN']
    * def headers = { 'commit-hash': '#(commitHash)', 'Authorization': '#(AUTH_TOKEN)' }

  Scenario Outline: Successful creation of account
    Given path '/accounts'
    And request {"email": "<email>"}
    And headers headers
    When method post
    Then status 201
    And match responseHeaders['api-version'] == '1.0.0'
    And match responseHeaders['commit-hash'] == '<commitHash>'

    Examples:
      | email               | commitHash |
      | 'test@email.com'    | '928d28d'  |
      | 'another@email.com' | 'a1b2c3d'  |

  Scenario Outline: Unsuccessful creation of account
    Given path '/accounts'
    And request {"email": "<email>"}
    And headers headers
    When method post
    Then status 400
    And match responseHeaders['api-version'] == '1.0.0'
    And match response contains { 'error': '#string', 'description': '#string' }

    Examples:
      | email          | commitHash |
      | 'invalidemail' | '928d28d'  |
      | ''             | 'a1b2c3d'  |
